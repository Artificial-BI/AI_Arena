
<!-- viewer.html -->

{% extends 'base.html' %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/viewer.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %}

{% block content %}
<h1>Viewer Interface</h1>

<!-- Arena Name -->
<h2>Magic Arena</h2>
<!-- Player Names -->
<div id="players-names">
    <div class="player-name" id="player1-name">
        <h3>{{ characters[0].name if characters|length > 0 else 'Player 1' }}</h3>
    </div>
    <div class="player-name" id="player2-name">
        <h3>{{ characters[1].name if characters|length > 1 else 'Player 2' }}</h3>
    </div>
</div>

<!-- Character Images and Stats -->
<div class="character-section">
    <div class="character">
        <img src="{{ url_for('static', filename='images/default/player1.png') }}" alt="Player 1 Image" id="player1-image">
        <p id="player1-description">{{ characters[0].description if characters|length > 0 else 'Player 1 description' }}</p>
        <!-- Character Stats Chart -->
        <div class="character-stats">
            <h2>Character Stats</h2>
            <canvas id="player1-stats"></canvas>
        </div>
    </div>
    <div class="character">
        <img src="{{ url_for('static', filename='images/default/player2.png') }}" alt="Player 2 Image" id="player2-image">
        <p id="player2-description">{{ characters[1].description if characters|length > 1 else 'Player 2 description' }}</p>
        <!-- Character Stats Chart -->
        <div class="character-stats">
            <h2>Character Stats</h2>
            <canvas id="player2-stats"></canvas>
        </div>
    </div>
</div>

<!-- Arena Chat -->
<h2>Arena Chat</h2>
<div id="arena-chat-box">
    <!-- Chat messages will be added here via JavaScript -->
</div>

<!-- General Chat for Players, Viewers, and AI -->
<h2>General Chat</h2>
<div id="general-chat-box">
    <!-- Chat messages will be added here via JavaScript -->
</div>
<form id="general-chat-form">
    <input type="text" id="general-chat-input" placeholder="Enter a message...">
    <button type="submit">Send</button>
</form>

<script>
    const user_id = "{{ user_id }}";  // Passing user ID to JavaScript
</script>
<script src="{{ url_for('static', filename='js/viewer.js') }}"></script>  <!-- Including viewer.js -->
{% endblock %}
